import{_ as S}from"./DialogCloseBtn-d9d81ae7.js";import{V as E,a as $,b as M,d as I,c as U}from"./VCard-db64c41e.js";import{V as R}from"./VForm-5a29b781.js";import{V as z}from"./VAlert-31e24687.js";import{V as B}from"./VTextField-1e90003c.js";import{k as n,w as q,o as y,b as P,n as a,C as s,t as c,v as _,p as r,m as e,$ as x,a2 as v,I as F,a6 as j,c as L,a as O,F as G,Y as N,ag as W,a8 as Y}from"./index-30b66760.js";import{V as H}from"./VCheckbox-475ad393.js";import{V as J}from"./VDialog-39650760.js";import{a as A,V as K}from"./VRow-b0db7b1d.js";import{V as Q}from"./VDataTableServer-64897da7.js";import{V as X}from"./VDivider-0d474c05.js";import{V as Z}from"./VSelect-8600eec3.js";import{V as ee}from"./VChip-ca3f8676.js";import"./VAvatar-2c83efa5.js";import"./VImg-c7c2167a.js";import"./transition-0c6e30e4.js";import"./VInput-cd4c7816.js";import"./forwardRefs-a29b5f65.js";/* empty css                   */import"./VField-027419e4.js";import"./easing-9f15041e.js";import"./VCounter-e2a77d8b.js";import"./VCheckboxBtn-a5502da0.js";import"./VSelectionControl-a507e867.js";import"./VOverlay-17b4c386.js";import"./lazy-fe618c41.js";import"./dialog-transition-9418ede6.js";import"./VDataTable-a879dec1.js";import"./VList-d87f0460.js";import"./ssrBoot-050ef406.js";import"./filter-a3cf0501.js";import"./VTable-944d2dec.js";import"./VMenu-55b2ccf7.js";const se={class:"d-flex align-center gap-3 mb-3"},te={__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean,required:!0},permissionName:{type:String,required:!1,default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(D,{emit:b}){const m=D,l=n(""),g=()=>{b("update:isDialogVisible",!1),l.value=""},d=()=>{b("update:isDialogVisible",!1),b("update:permissionName",l.value)};return q(m,()=>{l.value=m.permissionName}),(o,p)=>{const f=S;return y(),P(J,{width:o.$vuetify.display.smAndDown?"auto":600,"model-value":m.isDialogVisible,"onUpdate:modelValue":g},{default:a(()=>[s(E,{class:"pa-sm-8 pa-5"},{default:a(()=>[s(f,{variant:"text",size:"small",onClick:g}),s($,{class:"text-center"},{default:a(()=>[s(M,{class:"text-h5"},{default:a(()=>[c(_(m.permissionName?"Edit":"Add")+" Permission ",1)]),_:1}),s(I,null,{default:a(()=>[c(_(m.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),_:1})]),_:1}),s(U,{class:"mt-1"},{default:a(()=>[s(R,null,{default:a(()=>[s(z,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:a(()=>[c(" By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding. ")]),_:1}),r("div",se,[s(B,{modelValue:e(l),"onUpdate:modelValue":p[0]||(p[0]=V=>x(l)?l.value=V:null),density:"compact",label:"Permission Name",placeholder:"Enter Permission Name"},null,8,["modelValue"]),s(v,{onClick:d},{default:a(()=>[c(" Update ")]),_:1})]),s(H,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},ae=r("h5",{class:"text-h5"}," Permissions List ",-1),ie=r("p",{class:"text-sm mb-0"}," Each category (Basic, Professional, and Business) includes the four predefined roles shown below. ",-1),oe={class:"text-high-emphasis"},le={class:"d-flex gap-2"},re={class:"text-sm text-medium-emphasis"},ne={class:"d-flex justify-end gap-x-6 pa-2 flex-wrap"},me={class:"d-flex align-center gap-x-2 text-sm"},de={class:"d-flex align-center text-sm me-2 text-high-emphasis"},pe={class:"d-flex gap-x-2 align-center me-2"},Ge={__name:"index",setup(D){const b=[{title:"NAME",key:"name"},{title:"ASSIGNED TO",key:"assignedTo",sortable:!1},{title:"CREATED DATE",key:"createdDate",sortable:!1},{title:"ACTION",key:"actions",sortable:!1}],m=n([]),l=n(""),g=n(10),d=n(0),o=n({page:1,itemsPerPage:10,sortBy:[],groupBy:[],search:void 0}),p=n(!1),f=n(!1),V=n(""),w={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},C=()=>{Y.get("/apps/permissions/data",{params:{q:l.value,options:o.value}}).then(u=>{m.value=u.data.permissions,d.value=u.data.totalPermissions}).catch(u=>{console.log(u)})};F(C),j(C);const T=u=>{p.value=!0,V.value=u};return(u,i)=>{const k=te;return y(),P(K,null,{default:a(()=>[s(A,{cols:"12"},{default:a(()=>[ae,ie]),_:1}),s(A,{cols:"12"},{default:a(()=>[s(E,null,{default:a(()=>[s(U,{class:"d-flex align-center flex-wrap gap-4 justify-space-between"},{default:a(()=>[s(B,{modelValue:e(l),"onUpdate:modelValue":i[0]||(i[0]=t=>x(l)?l.value=t:null),placeholder:"Search",style:{"min-width":"12rem","max-width":"15rem"},density:"compact"},null,8,["modelValue"]),s(v,{density:"default",onClick:i[1]||(i[1]=t=>f.value=!0)},{default:a(()=>[c(" Add Permission ")]),_:1})]),_:1}),s(e(Q),{"items-per-page":e(g),"onUpdate:itemsPerPage":i[5]||(i[5]=t=>x(g)?g.value=t:null),page:e(o).page,"onUpdate:page":i[6]||(i[6]=t=>e(o).page=t),"items-length":e(d),headers:b,items:e(m),class:"text-no-wrap","onUpdate:options":i[7]||(i[7]=t=>o.value=t)},{"item.name":a(({item:t})=>[r("span",oe,_(t.raw.name),1)]),"item.assignedTo":a(({item:t})=>[r("div",le,[(y(!0),L(G,null,O(t.raw.assignedTo,h=>(y(),P(ee,{key:h,color:w[h].color,density:"comfortable"},{default:a(()=>[c(_(w[h].text),1)]),_:2},1032,["color"]))),128))])]),"item.createdDate":a(({item:t})=>[r("span",re,_(t.raw.createdDate),1)]),"item.actions":a(({item:t})=>[s(v,{icon:"",size:"small",color:"medium-emphasis",variant:"text",onClick:h=>T(t.raw.name)},{default:a(()=>[s(N,{size:"24",icon:"mdi-pencil-outline"})]),_:2},1032,["onClick"]),s(v,{icon:"",size:"small",variant:"text",color:"medium-emphasis"},{default:a(()=>[s(N,{size:"24",icon:"mdi-delete-outline"})]),_:1})]),bottom:a(()=>[s(X),r("div",ne,[r("div",me,[c(" Rows Per Page: "),s(Z,{modelValue:e(o).itemsPerPage,"onUpdate:modelValue":i[2]||(i[2]=t=>e(o).itemsPerPage=t),class:"per-page-select text-high-emphasis",variant:"plain",density:"compact",items:[10,20,25,50,100]},null,8,["modelValue"])]),r("span",de,_(e(W)(e(o),e(d))),1),r("div",pe,[s(v,{icon:"mdi-chevron-left",class:"flip-in-rtl",variant:"text",density:"comfortable",color:"default",disabled:e(o).page<=1,onClick:i[3]||(i[3]=t=>e(o).page<=1?e(o).page=1:e(o).page--)},null,8,["disabled"]),s(v,{class:"flip-in-rtl",icon:"mdi-chevron-right",density:"comfortable",variant:"text",color:"default",disabled:e(o).page>=Math.ceil(e(d)/e(o).itemsPerPage),onClick:i[4]||(i[4]=t=>e(o).page>=Math.ceil(e(d)/e(o).itemsPerPage)?e(o).page=Math.ceil(e(d)/e(o).itemsPerPage):e(o).page++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","page","items-length","items"])]),_:1}),s(k,{isDialogVisible:e(p),"onUpdate:isDialogVisible":i[8]||(i[8]=t=>x(p)?p.value=t:null),"permission-name":e(V),"onUpdate:permissionName":i[9]||(i[9]=t=>x(V)?V.value=t:null)},null,8,["isDialogVisible","permission-name"]),s(k,{isDialogVisible:e(f),"onUpdate:isDialogVisible":i[10]||(i[10]=t=>x(f)?f.value=t:null)},null,8,["isDialogVisible"])]),_:1})]),_:1})}}};export{Ge as default};
