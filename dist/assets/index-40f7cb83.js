import{k as n,a6 as O,r as F,o as P,c as L,C as t,n as l,m as s,$ as c,a2 as p,t as d,p as r,b as j,v as u,Y as f,ag as q}from"./index-30b66760.js";import{_ as Q}from"./AddNewUserDrawer-376453a7.js";import{u as Y}from"./useUserListStore-eddcce2e.js";import{a as G}from"./formatters-33197472.js";import{c as A,V as R}from"./VCard-db64c41e.js";import{V as H,a as U}from"./VRow-b0db7b1d.js";import{V as x}from"./VSelect-8600eec3.js";import{V as J}from"./VSpacer-a17cbd45.js";import{V as K}from"./VTextField-1e90003c.js";import{V as W}from"./VDataTableServer-64897da7.js";import{V as X}from"./VAvatar-2c83efa5.js";import{V as Z}from"./VImg-c7c2167a.js";import{V as ee}from"./VChip-ca3f8676.js";import{V as te}from"./VMenu-55b2ccf7.js";import{V as ae,a as k,b as C}from"./VList-d87f0460.js";import{V as le}from"./VDivider-0d474c05.js";import"./AppDrawerHeaderSection-75e1c295.js";import"./vue3-perfect-scrollbar.esm-a93fe39d.js";import"./validators-d1aa93b7.js";import"./index-61e4df1a.js";import"./VForm-5a29b781.js";import"./VInput-cd4c7816.js";import"./transition-0c6e30e4.js";import"./forwardRefs-a29b5f65.js";import"./VNavigationDrawer-92e5776b.js";import"./ssrBoot-050ef406.js";import"./dialog-transition-9418ede6.js";import"./easing-9f15041e.js";import"./VCheckboxBtn-a5502da0.js";import"./VSelectionControl-a507e867.js";/* empty css                   */import"./VField-027419e4.js";import"./VCounter-e2a77d8b.js";import"./VDataTable-a879dec1.js";import"./filter-a3cf0501.js";import"./VTable-944d2dec.js";import"./VOverlay-17b4c386.js";import"./lazy-fe618c41.js";const se={class:"app-user-search-filter d-flex align-center gap-6"},oe={class:"d-flex"},ie={key:1},re={class:"d-flex flex-column"},ne={class:"text-sm"},de={class:"text-xs text-medium-emphasis"},ue={class:"text-sm"},me={class:"d-flex gap-2"},ce={class:"text-capitalize"},pe={class:"text-capitalize text-high-emphasis"},fe={class:"d-flex justify-end gap-x-6 pa-2 flex-wrap"},ve={class:"d-flex align-center gap-x-2 text-sm"},ge={class:"d-flex align-center text-sm me-2 text-high-emphasis"},Ve={class:"d-flex gap-x-2 align-center me-2"},st={__name:"index",setup(_e){const h=Y(),v=n(""),g=n(),V=n(),_=n(),T=n(1),m=n(0),S=n([]),o=n({page:1,itemsPerPage:10,sortBy:[],groupBy:[],search:void 0}),D=[{title:"USER",key:"user"},{title:"EMAIL",key:"email"},{title:"ROLE",key:"role"},{title:"PLAN",key:"plan"},{title:"STATUS",key:"status"},{title:"ACTION",key:"actions",sortable:!1}],y=()=>{h.fetchUsers({q:v.value,status:_.value,plan:V.value,role:g.value,options:o.value}).then(i=>{S.value=i.data.users,T.value=i.data.totalPage,m.value=i.data.totalUsers,o.value.page=i.data.page}).catch(i=>{console.error(i)})};O(y);const E=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],N=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],B=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],b=i=>{const a=i.toLowerCase();return a==="subscriber"?{color:"primary",icon:"mdi-account-outline"}:a==="author"?{color:"warning",icon:"mdi-cog-outline"}:a==="maintainer"?{color:"success",icon:"mdi-chart-donut"}:a==="editor"?{color:"info",icon:"mdi-pencil-outline"}:a==="admin"?{color:"error",icon:"mdi-laptop"}:{color:"primary",icon:"mdi-account-outline"}},I=i=>{const a=i.toLowerCase();return a==="pending"?"warning":a==="active"?"success":a==="inactive"?"secondary":"primary"},w=n(!1),M=i=>{h.addUser(i),y()},z=i=>{h.deleteUser(i),y()};return(i,a)=>{const $=F("RouterLink");return P(),L("section",null,[t(R,{title:"Filters",class:"mb-6"},{default:l(()=>[t(A,null,{default:l(()=>[t(H,null,{default:l(()=>[t(U,{cols:"12",sm:"4"},{default:l(()=>[t(x,{modelValue:s(g),"onUpdate:modelValue":a[0]||(a[0]=e=>c(g)?g.value=e:null),label:"Select Role",items:E,clearable:"","clear-icon":"mdi-close"},null,8,["modelValue"])]),_:1}),t(U,{cols:"12",sm:"4"},{default:l(()=>[t(x,{modelValue:s(V),"onUpdate:modelValue":a[1]||(a[1]=e=>c(V)?V.value=e:null),label:"Select Plan",items:N,clearable:"","clear-icon":"mdi-close"},null,8,["modelValue"])]),_:1}),t(U,{cols:"12",sm:"4"},{default:l(()=>[t(x,{modelValue:s(_),"onUpdate:modelValue":a[2]||(a[2]=e=>c(_)?_.value=e:null),label:"Select Status",items:B,clearable:"","clear-icon":"mdi-close"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(R,null,{default:l(()=>[t(A,{class:"d-flex flex-wrap gap-4"},{default:l(()=>[t(p,{variant:"outlined",color:"secondary","prepend-icon":"mdi-tray-arrow-up"},{default:l(()=>[d(" Export ")]),_:1}),t(J),r("div",se,[t(K,{modelValue:s(v),"onUpdate:modelValue":a[3]||(a[3]=e=>c(v)?v.value=e:null),placeholder:"Search User",density:"compact"},null,8,["modelValue"]),t(p,{onClick:a[4]||(a[4]=e=>w.value=!0)},{default:l(()=>[d(" Add User ")]),_:1})])]),_:1}),t(s(W),{"items-per-page":s(o).itemsPerPage,"onUpdate:itemsPerPage":a[8]||(a[8]=e=>s(o).itemsPerPage=e),page:s(o).page,"onUpdate:page":a[9]||(a[9]=e=>s(o).page=e),items:s(S),"items-length":s(m),headers:D,"show-select":"",class:"rounded-0","onUpdate:options":a[10]||(a[10]=e=>o.value=e)},{"item.user":l(({item:e})=>[r("div",oe,[t(X,{size:"34",variant:e.raw.avatar?void 0:"tonal",color:e.raw.avatar?void 0:b(e.raw.role).color,class:"me-3"},{default:l(()=>[e.raw.avatar?(P(),j(Z,{key:0,src:e.raw.avatar},null,8,["src"])):(P(),L("span",ie,u(s(G)(e.raw.fullName)),1))]),_:2},1032,["variant","color"]),r("div",re,[r("h6",ne,[t($,{to:{name:"apps-user-view-id",params:{id:e.raw.id}},class:"font-weight-medium user-list-name"},{default:l(()=>[d(u(e.raw.fullName),1)]),_:2},1032,["to"])]),r("span",de,"@"+u(e.raw.username),1)])])]),"item.email":l(({item:e})=>[r("span",ue,u(e.raw.email),1)]),"item.role":l(({item:e})=>[r("div",me,[t(f,{icon:b(e.raw.role).icon,color:b(e.raw.role).color},null,8,["icon","color"]),r("span",ce,u(e.raw.role),1)])]),"item.plan":l(({item:e})=>[r("span",pe,u(e.raw.currentPlan),1)]),"item.status":l(({item:e})=>[t(ee,{color:I(e.raw.status),density:"comfortable",class:"text-capitalize"},{default:l(()=>[d(u(e.raw.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:e})=>[t(p,{icon:"",variant:"text",size:"small",color:"medium-emphasis"},{default:l(()=>[t(f,{size:"24",icon:"mdi-dots-vertical"}),t(te,{activator:"parent"},{default:l(()=>[t(ae,null,{default:l(()=>[t(k,{to:{name:"apps-user-view-id",params:{id:e.raw.id}}},{prepend:l(()=>[t(f,{icon:"mdi-eye-outline"})]),default:l(()=>[t(C,null,{default:l(()=>[d("View")]),_:1})]),_:2},1032,["to"]),t(k,{link:""},{prepend:l(()=>[t(f,{icon:"mdi-pencil-outline"})]),default:l(()=>[t(C,null,{default:l(()=>[d("Edit")]),_:1})]),_:1}),t(k,{onClick:we=>z(e.raw.id)},{prepend:l(()=>[t(f,{icon:"mdi-delete-outline"})]),default:l(()=>[t(C,null,{default:l(()=>[d("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[t(le),r("div",fe,[r("div",ve,[d(" Rows Per Page: "),t(x,{modelValue:s(o).itemsPerPage,"onUpdate:modelValue":a[5]||(a[5]=e=>s(o).itemsPerPage=e),class:"per-page-select text-high-emphasis",variant:"plain",density:"compact",items:[10,20,25,50,100]},null,8,["modelValue"])]),r("span",ge,u(s(q)(s(o),s(m))),1),r("div",Ve,[t(p,{icon:"mdi-chevron-left",class:"flip-in-rtl",variant:"text",density:"comfortable",color:"default",disabled:s(o).page<=1,onClick:a[6]||(a[6]=e=>s(o).page<=1?s(o).page=1:s(o).page--)},null,8,["disabled"]),t(p,{icon:"mdi-chevron-right",class:"flip-in-rtl",density:"comfortable",variant:"text",color:"default",disabled:s(o).page>=Math.ceil(s(m)/s(o).itemsPerPage),onClick:a[7]||(a[7]=e=>s(o).page>=Math.ceil(s(m)/s(o).itemsPerPage)?s(o).page=Math.ceil(s(m)/s(o).itemsPerPage):s(o).page++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(Q,{isDrawerOpen:s(w),"onUpdate:isDrawerOpen":a[11]||(a[11]=e=>c(w)?w.value=e:null),onUserData:M},null,8,["isDrawerOpen"])])}}};export{st as default};
