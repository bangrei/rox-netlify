import{k as i,f as B,i as D,o as R,c as F,p as f,C as e,m as t,J as V,v as P,n as s,a1 as $,$ as v,a2 as j,t as q}from"./index-30b66760.js";import{a as A,b as L}from"./apiConnector-585cc791.js";import{u as U}from"./useGenerateImageVariant-8fc05b40.js";import{V as E}from"./VNodeRenderer-3442d069.js";import{r as h}from"./validators-d1aa93b7.js";import{b as x}from"./route-block-83d24a4e.js";import{a as c,V as y}from"./VRow-b0db7b1d.js";import{V as J}from"./VImg-c7c2167a.js";import{V as G,c as w}from"./VCard-db64c41e.js";import{V as M}from"./VForm-5a29b781.js";import{V as b}from"./VTextField-1e90003c.js";import"./index-61e4df1a.js";import"./transition-0c6e30e4.js";import"./VAvatar-2c83efa5.js";import"./VInput-cd4c7816.js";import"./forwardRefs-a29b5f65.js";/* empty css                   */import"./VField-027419e4.js";import"./easing-9f15041e.js";import"./VCounter-e2a77d8b.js";const O="/auth",W={login:async u=>{const{post:a}=A();return await a(`${L}${O}/login`,u)}},z=async u=>{var a;try{const r=await W.login(u);return Promise.resolve(r.result)}catch(r){return Promise.reject((a=r.response)==null?void 0:a.data)}},p="/assets/aero-banner-5b5ed7b0.webp";const H={class:"auth-logo d-flex align-start gap-x-3"},K={class:"font-weight-medium leading-normal text-2xl text-uppercase"},Q=f("h5",{class:"text-h5 mb-1"}," Welcome to Aeroworx Dashboard 👋🏻 ",-1),X={__name:"login",setup(u){const a=i(!1),r=i(!1),k=U(p,p,p,p,!0),g=B(),S=D(),C=i({email:void 0,password:void 0}),_=i(),m=i("sd_admin@savantdegrees.com"),d=i("iLovesd@2023"),I=async()=>{try{r.value=!0;const n=await z({username:m.value,password:d.value}),{accessToken:o,refreshToken:l}=n,N={fullName:"Admin SD",userName:"sd_admin",email:"sd_admin@savantdegrees.com"};localStorage.setItem("userData",JSON.stringify(N)),sessionStorage.setItem("accessToken",o),sessionStorage.setItem("refreshToken",l),S.replace(g.query.to?String(g.query.to):"/")}catch(n){console.log(n)}finally{r.value=!1}},T=()=>{var n;(n=_.value)==null||n.validate().then(({valid:o})=>{o&&I()})};return(n,o)=>(R(),F("div",null,[f("div",H,[e(t(E),{nodes:t(V).app.logo},null,8,["nodes"]),f("h1",K,P(t(V).app.title),1)]),e(y,{"no-gutters":"",class:"auth-wrapper"},{default:s(()=>[e(c,{lg:"8",class:"d-none d-lg-flex align-center justify-center position-relative"},{default:s(()=>[e(J,{"max-width":"768px",src:t(k),class:"auth-illustration"},null,8,["src"])]),_:1}),e(c,{cols:"12",lg:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:s(()=>[e(G,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:s(()=>[e(w,null,{default:s(()=>[Q]),_:1}),e(w,null,{default:s(()=>[e(t(M),{ref_key:"refVForm",ref:_,onSubmit:$(T,["prevent"])},{default:s(()=>[e(y,null,{default:s(()=>[e(c,{cols:"12"},{default:s(()=>[e(b,{modelValue:t(m),"onUpdate:modelValue":o[0]||(o[0]=l=>v(m)?m.value=l:null),label:"Username",rules:[t(h)]},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:s(()=>[e(b,{modelValue:t(d),"onUpdate:modelValue":o[1]||(o[1]=l=>v(d)?d.value=l:null),class:"mb-4",label:"Password",rules:[t(h)],type:t(a)?"text":"password","error-messages":t(C).password,"append-inner-icon":t(a)?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":o[2]||(o[2]=l=>a.value=!t(a))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),e(j,{block:"",type:"submit",loading:t(r)},{default:s(()=>[q(" Login ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]))}};typeof x=="function"&&x(X);export{X as default};
